# 전산팀 IT 자산관리 시스템 - DB 필드 정의서

## 개요

- **프로젝트명**: 전산팀 IT 자산관리 시스템
- **작성일**: 2025년 12월
- **목적**: Excel 기반 IT 자산 데이터를 PostgreSQL로 이관하고, 웹 시스템에서 관리하기 위한 테이블/필드 정의
- **원본 파일** (초기 데이터 이관용): 01프린트관리대장, 02IP-MAC관리, 03소프트웨어현황, 05전산실정기지불자료, 06전산업무의뢰서접수

---

## 1. equipment (장비 마스터)

> PC, 서버, 프린터, 네트워크 장비 통합 관리

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| equipment_id | SERIAL | PK | 자동 증가 ID | - |
| asset_no | VARCHAR(20) | UK | 관리번호 (예: KHN-24-001) | 02IP-MAC |
| category | VARCHAR(20) | Y | 장비구분 (PC/노트북/서버/프린터/네트워크/기타) | 02IP-MAC |
| sub_category | VARCHAR(30) | N | 세부구분 (L2스위치/L3스위치/방화벽/NAS 등) | 02IP-MAC |
| model_name | VARCHAR(100) | N | 모델명 | 02IP-MAC |
| serial_no | VARCHAR(50) | N | S/N (제조번호) | 02IP-MAC |
| purchase_date | DATE | N | 구매년월 | 02IP-MAC |
| status | VARCHAR(20) | Y | 상태 (사용중/미사용/폐기/수리중) | 02IP-MAC |
| location | VARCHAR(50) | N | 설치위치 (1층/2층/3층/2공장 등) | 02IP-MAC |
| department | VARCHAR(50) | N | 사용부서 | 02IP-MAC |
| os | VARCHAR(50) | N | 운영체제 | 02IP-MAC |
| cpu | VARCHAR(100) | N | CPU 정보 | 02IP-MAC |
| memory | VARCHAR(30) | N | 메모리 | 02IP-MAC |
| storage | VARCHAR(50) | N | 저장장치 | 02IP-MAC |
| note | TEXT | N | 비고 | - |
| created_at | TIMESTAMP | Y | 등록일시 | - |
| updated_at | TIMESTAMP | Y | 수정일시 | - |

**인덱스**: asset_no (UNIQUE), category, status, department

---

## 2. users (사용자 마스터)

> 임직원 정보 관리

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| user_id | SERIAL | PK | 자동 증가 ID | - |
| emp_no | VARCHAR(10) | UK | 사번 | 03소프트웨어 |
| name | VARCHAR(50) | Y | 성명 | 02IP-MAC, 03소프트웨어 |
| department | VARCHAR(50) | N | 부서 | 02IP-MAC, 03소프트웨어 |
| position | VARCHAR(30) | N | 직책 | 02IP-MAC, 03소프트웨어 |
| location_type | VARCHAR(10) | N | 근무형태 (사내/사외) | 03소프트웨어 |
| status | VARCHAR(20) | Y | 상태 (재직/퇴사/휴직) | - |
| created_at | TIMESTAMP | Y | 등록일시 | - |
| updated_at | TIMESTAMP | Y | 수정일시 | - |

**인덱스**: emp_no (UNIQUE), department, status

**참고**: PC ID, 메일 ID 등 인증정보는 user_credential 테이블에서 관리

---

## 3. equipment_user (장비-사용자 매핑)

> 장비 할당 이력 관리

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| mapping_id | SERIAL | PK | 자동 증가 ID | - |
| equipment_id | INTEGER | FK | 장비 ID | - |
| user_id | INTEGER | FK | 사용자 ID | - |
| assigned_date | DATE | Y | 할당일 | 02IP-MAC |
| returned_date | DATE | N | 반납일 | - |
| is_current | BOOLEAN | Y | 현재 사용여부 | - |
| note | TEXT | N | 비고 | - |

**인덱스**: equipment_id, user_id, is_current

---

## 4. ip_allocation (IP 할당 현황)

> IP 주소 및 MAC 관리

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| ip_id | SERIAL | PK | 자동 증가 ID | - |
| ip_address | VARCHAR(15) | UK | IP 주소 | 02IP-MAC |
| mac_address | VARCHAR(17) | N | MAC 주소 | 02IP-MAC |
| network_zone | VARCHAR(30) | Y | 네트워크 대역 (V10-고정/V10-DHCP/V40-폐쇄망/V50-Guest/2공장) | 02IP-MAC |
| allocation_type | VARCHAR(10) | Y | 할당방식 (고정/DHCP) | 02IP-MAC |
| equipment_id | INTEGER | FK | 장비 ID (NULL 가능 - 미할당) | - |
| description | VARCHAR(100) | N | 용도 설명 | 02IP-MAC |
| is_active | BOOLEAN | Y | 사용여부 | - |
| created_at | TIMESTAMP | Y | 등록일시 | - |
| updated_at | TIMESTAMP | Y | 수정일시 | - |

**인덱스**: ip_address (UNIQUE), network_zone, equipment_id

---

## 5. software_license (SW 라이선스 마스터)

> 소프트웨어 라이선스 보유 현황

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| license_id | SERIAL | PK | 자동 증가 ID | - |
| sw_name | VARCHAR(100) | Y | 소프트웨어명 | 03소프트웨어 |
| sw_version | VARCHAR(50) | N | 버전 | 03소프트웨어 |
| license_type | VARCHAR(20) | N | 라이선스 유형 (영구/구독/볼륨) | 03소프트웨어 |
| license_key | VARCHAR(100) | N | 라이선스 키 | 03소프트웨어 |
| total_qty | INTEGER | Y | 보유 수량 | 03소프트웨어 |
| purchase_date | DATE | N | 구입일 | 03소프트웨어 |
| expire_date | DATE | N | 만료일 (구독형) | 03소프트웨어 |
| vendor | VARCHAR(100) | N | 공급업체 | 03소프트웨어 |
| note | TEXT | N | 비고 | 03소프트웨어 |
| created_at | TIMESTAMP | Y | 등록일시 | - |
| updated_at | TIMESTAMP | Y | 수정일시 | - |

**인덱스**: sw_name, sw_version

---

## 6. sw_installation (SW 설치 현황)

> 장비별 소프트웨어 설치 이력

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| install_id | SERIAL | PK | 자동 증가 ID | - |
| equipment_id | INTEGER | FK | 장비 ID | - |
| license_id | INTEGER | FK | 라이선스 ID | - |
| user_id | INTEGER | FK | 사용자 ID | - |
| install_date | DATE | N | 설치일 | 03소프트웨어 |
| uninstall_date | DATE | N | 제거일 | - |
| is_active | BOOLEAN | Y | 현재 설치여부 | - |
| note | TEXT | N | 비고 | - |

**인덱스**: equipment_id, license_id, is_active

---

## 7. printer_consumable (프린터 소모품 마스터)

> 토너 등 소모품 정보

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| consumable_id | SERIAL | PK | 자동 증가 ID | - |
| consumable_code | VARCHAR(30) | UK | 소모품 코드 (예: MLT-D403L) | 01프린트관리 |
| consumable_name | VARCHAR(100) | N | 소모품명 | 01프린트관리 |
| consumable_type | VARCHAR(20) | Y | 유형 (토너/드럼/잉크 등) | - |
| compatible_models | TEXT | N | 호환 프린터 모델 | 01프린트관리 |
| unit_price | INTEGER | N | 단가 | 05정기지불 |
| created_at | TIMESTAMP | Y | 등록일시 | - |

**인덱스**: consumable_code (UNIQUE)

---

## 8. consumable_history (소모품 교체 이력)

> 프린터 토너 교체 등 이력 관리

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| history_id | SERIAL | PK | 자동 증가 ID | - |
| equipment_id | INTEGER | FK | 프린터 장비 ID | - |
| consumable_id | INTEGER | FK | 소모품 ID | - |
| replace_date | DATE | Y | 교체일 | 01프린트관리 |
| quantity | INTEGER | Y | 수량 (기본 1) | - |
| note | TEXT | N | 비고 | - |

**인덱스**: equipment_id, replace_date

---

## 9. it_request (전산업무 의뢰)

> IT 업무 요청 및 처리 현황

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| request_id | SERIAL | PK | 자동 증가 ID | - |
| request_no | VARCHAR(20) | UK | 접수번호 (예: KHIT-25-KHERP-001) | 06전산업무의뢰서 |
| request_type | VARCHAR(20) | Y | 시스템구분 (KHERP/VNERP/ETC) | 06전산업무의뢰서 |
| requester | VARCHAR(50) | Y | 의뢰자 | 06전산업무의뢰서 |
| request_date | DATE | Y | 의뢰일 | 06전산업무의뢰서 |
| complete_date | DATE | N | 완료일 | 06전산업무의뢰서 |
| category | VARCHAR(20) | N | 구분 (신규개발/기능개선/오류수정/구입/수리) | 06전산업무의뢰서 |
| title | VARCHAR(200) | N | 의뢰 제목 | 06전산업무의뢰서 |
| content | TEXT | N | 의뢰 내용 | 06전산업무의뢰서 |
| status | VARCHAR(20) | Y | 상태 (접수/진행중/완료/보류) | - |
| handler | VARCHAR(50) | N | 담당자 | 06전산업무의뢰서 |
| note | TEXT | N | 비고 | - |
| created_at | TIMESTAMP | Y | 등록일시 | - |
| updated_at | TIMESTAMP | Y | 수정일시 | - |

**인덱스**: request_no (UNIQUE), request_type, status, request_date

---

## 10. payment (정기지불/품의 관리)

> 전산실 비용 지출 관리

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| payment_id | SERIAL | PK | 자동 증가 ID | - |
| payment_no | VARCHAR(20) | N | 품의번호 | 05정기지불 |
| payment_date | DATE | Y | 지출일 | 05정기지불 |
| category | VARCHAR(20) | Y | 대분류 (품의/물품) | 05정기지불 |
| account | VARCHAR(50) | N | 계정과목 | 05정기지불 |
| item_name | VARCHAR(100) | Y | 품목명 | 05정기지불 |
| specification | VARCHAR(100) | N | 규격 | 05정기지불 |
| quantity | INTEGER | N | 수량 | 05정기지불 |
| unit_price | INTEGER | N | 단가 | 05정기지불 |
| amount | INTEGER | Y | 금액 | 05정기지불 |
| vendor | VARCHAR(100) | N | 업체 | 05정기지불 |
| status | VARCHAR(20) | N | 승인여부 (OK/반려/대기) | 05정기지불 |
| note | TEXT | N | 비고 | 05정기지불 |
| created_at | TIMESTAMP | Y | 등록일시 | - |

**인덱스**: payment_date, category, account

---

## 11. regular_payment (정기지불 항목)

> 월 정기 지출 항목 관리

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| regular_id | SERIAL | PK | 자동 증가 ID | - |
| vendor | VARCHAR(100) | Y | 업체명 | 05정기지불 |
| item_name | VARCHAR(100) | Y | 항목명 | 05정기지불 |
| base_price | INTEGER | N | 기본 이용료 | 05정기지불 |
| discount | INTEGER | N | 할인금액 | 05정기지불 |
| vat | INTEGER | N | 부가세 | 05정기지불 |
| total_price | INTEGER | Y | 지불금액 | 05정기지불 |
| billing_type | VARCHAR(30) | N | 청구방식 | 05정기지불 |
| manager | VARCHAR(50) | N | 담당자 | 05정기지불 |
| note | TEXT | N | 비고 | 05정기지불 |
| is_active | BOOLEAN | Y | 사용여부 | - |
| created_at | TIMESTAMP | Y | 등록일시 | - |
| updated_at | TIMESTAMP | Y | 수정일시 | - |

**인덱스**: vendor, is_active

---

## 12. network_policy (방화벽 정책)

> 방화벽 정책 관리

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| policy_id | SERIAL | PK | 자동 증가 ID | - |
| policy_no | INTEGER | N | 정책 번호 | 02IP-MAC |
| direction | VARCHAR(10) | Y | 방향 (WAN→LAN 등) | 02IP-MAC |
| source_ip | TEXT | N | 출발지 IP | 02IP-MAC |
| source_desc | TEXT | N | 출발지 설명 | 02IP-MAC |
| dest_public_ip | VARCHAR(50) | N | 목적지 공인 IP | 02IP-MAC |
| dest_private_ip | VARCHAR(50) | N | 목적지 사설 IP | 02IP-MAC |
| dest_desc | VARCHAR(100) | N | 목적지 설명 | 02IP-MAC |
| service | TEXT | N | 오픈 서비스/포트 | 02IP-MAC |
| action | VARCHAR(10) | Y | 허용/차단 (Allow/Deny) | 02IP-MAC |
| is_enabled | BOOLEAN | Y | 활성화 여부 | 02IP-MAC |
| note | TEXT | N | 비고 | - |
| created_at | TIMESTAMP | Y | 등록일시 | - |
| updated_at | TIMESTAMP | Y | 수정일시 | - |

**인덱스**: policy_no, action, is_enabled

---

## 13. wireless_ap (무선 AP 현황)

> 사내 무선 공유기 관리

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| ap_id | SERIAL | PK | 자동 증가 ID | - |
| asset_no | VARCHAR(20) | UK | 관리번호 | 02IP-MAC |
| location | VARCHAR(50) | Y | 설치장소 | 02IP-MAC |
| ssid | VARCHAR(50) | N | SSID (공유기명) | 02IP-MAC |
| model | VARCHAR(100) | N | 모델명 | 02IP-MAC |
| ip_address | VARCHAR(15) | N | IP 주소 | 02IP-MAC |
| support_5g | BOOLEAN | N | 5G 지원여부 | 02IP-MAC |
| support_gigabit | BOOLEAN | N | 기가비트 지원여부 | 02IP-MAC |
| speed_info | VARCHAR(100) | N | 속도 상세 | 02IP-MAC |
| status | VARCHAR(20) | Y | 상태 (사용중/교체검토/미사용) | 02IP-MAC |
| note | TEXT | N | 비고 | - |
| created_at | TIMESTAMP | Y | 등록일시 | - |
| updated_at | TIMESTAMP | Y | 수정일시 | - |

**인덱스**: location, status

---

## 14. user_credential (사용자 인증정보)

> PC 로그인, 메일 등 사용자 기준 인증정보 (보안 분리)

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| credential_id | SERIAL | PK | 자동 증가 ID | - |
| user_id | INTEGER | FK,UK | 사용자 ID (1:1) | - |
| pc_id | VARCHAR(50) | N | PC 로그인 ID | 02IP-MAC |
| pc_pw | VARCHAR(100) | N | PC 로그인 PW (암호화) | 02IP-MAC |
| email_id | VARCHAR(100) | N | 메일 ID | 02IP-MAC |
| email_pw | VARCHAR(100) | N | 메일 PW (암호화) | 02IP-MAC |
| note | TEXT | N | 비고 | - |
| created_at | TIMESTAMP | Y | 등록일시 | - |
| updated_at | TIMESTAMP | Y | 수정일시 | - |

**인덱스**: user_id (UNIQUE)

**보안 고려사항**:
- 비밀번호 필드는 암호화 저장 권장 (pgcrypto 확장 또는 애플리케이션 레벨)
- 해당 테이블 조회 권한은 관리자로 제한

---

## 15. equipment_credential (장비 인증정보)

> BIOS, BitLocker, 잠금장치 등 장비 기준 인증정보 (보안 분리)

| 필드명 | 데이터타입 | 필수 | 설명 | 원본 |
|--------|-----------|------|------|------|
| credential_id | SERIAL | PK | 자동 증가 ID | - |
| equipment_id | INTEGER | FK,UK | 장비 ID (1:1) | - |
| bios_pw | VARCHAR(100) | N | BIOS 비밀번호 (암호화) | 02IP-MAC |
| bitlocker_pw | VARCHAR(100) | N | BitLocker 복구키 (암호화) | 02IP-MAC |
| kensington_lock | VARCHAR(50) | N | 잠금장치 비밀번호 | 02IP-MAC |
| admin_id | VARCHAR(50) | N | 관리자 계정 ID (서버용) | 02IP-MAC |
| admin_pw | VARCHAR(100) | N | 관리자 계정 PW (암호화) | 02IP-MAC |
| note | TEXT | N | 비고 | - |
| created_at | TIMESTAMP | Y | 등록일시 | - |
| updated_at | TIMESTAMP | Y | 수정일시 | - |

**인덱스**: equipment_id (UNIQUE)

**보안 고려사항**:
- 비밀번호 필드는 암호화 저장 권장
- 해당 테이블 조회 권한은 관리자로 제한
- BitLocker 복구키는 48자리 숫자 형태

---

## ERD 관계도 (요약)

```
users ─────────┬───── equipment_user ─────┬───── equipment
   │           │                          │         │
   │           │                          │         ├── ip_allocation
   │           │                          │         │
   │           └── sw_installation ───────┴─────────┼── consumable_history
   │                    │                           │         │
   │                    │                           │         │
   │           software_license            printer_consumable
   │                                                │
   │                                                │
user_credential (1:1)                    equipment_credential (1:1)
 [보안 분리]                                [보안 분리]

it_request (독립)
payment (독립)
regular_payment (독립)
network_policy (독립)
wireless_ap (독립)
```

---

## 진행 현황

### 완료된 작업 (Phase 1)
- [x] Excel 파일 구조 분석
- [x] 필드 정의서 작성 (이 문서)
- [x] SQL DDL 스크립트 생성
- [x] Excel → DB 데이터 매핑 정의
- [x] Python 파서 개발 (초기 데이터 이관용)

### 다음 단계 (Phase 2)
- [ ] PostgreSQL DB 구축
- [ ] 초기 데이터 이관 (Excel → DB, 1회성)
- [ ] FastAPI 백엔드 CRUD API 개발
- [ ] 검색/통계 API 개발
- [ ] 문서 출력 API 개발 (Excel, PDF)

### 이후 단계
- [ ] React 프론트엔드 개발 (Phase 3)
- [ ] 통합 테스트 (Phase 4)
- [ ] 배포 및 운영 (Phase 5)
